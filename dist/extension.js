(()=>{"use strict";var e={60:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showOutputMessage=function(e){s||(s=o.window.createOutputChannel("Environment-Variables-Extension")),s.clear(),"object"==typeof e?s.appendLine(JSON.stringify(e,null,4)):s.appendLine(e),s.show(),d("Results are printed to OUTPUT / Environment-Variables-Extension")},t.logToOutput=function(e,t=void 0){let r=(new Date).toLocaleString();l||(l=o.window.createOutputChannel("Environment-Variables-Log")),"object"==typeof e?l.appendLine("["+r+"] "+JSON.stringify(e,null,4)):l.appendLine("["+r+"] "+e),t&&(l.appendLine(t.name),l.appendLine(t.message),l.appendLine(t.stack))},t.showInfoMessage=d,t.showWarningMessage=function(e){o.window.showWarningMessage(e)},t.showErrorMessage=function(e,t=void 0){t?o.window.showErrorMessage(e+"\n\n"+t.name+"/n"+t.message):o.window.showErrorMessage(e)},t.showApiErrorMessage=function(e,t){t?o.window.showErrorMessage(e+"\n\ntype:"+t.type+"\ntitle:"+t.title+"\nstatus:"+t.status+"\ndetail:"+t.detail+"\ninstance:"+t.instance+"\n"):o.window.showErrorMessage(e)},t.getExtensionVersion=function(){const{version:e}=JSON.parse((0,i.readFileSync)((0,n.join)(__dirname,"..","package.json"),{encoding:"utf8"}));return e},t.openFile=function(e){o.commands.executeCommand("vscode.open",o.Uri.file(e),o.ViewColumn.One)},t.getDuration=function(e,t){return e?((!t||t<e)&&(t=new Date),c(t.valueOf()-e.valueOf())):""},t.convertMsToTime=c,t.isJsonString=function(e){try{return"object"==typeof JSON.parse(e)}catch(e){return!1}},t.isValidDate=function(e){if(!e.match(/^\d{4}-\d{2}-\d{2}$/))return!1;var t=new Date(e),r=t.getTime();return!(!r&&0!==r)&&t.toISOString().slice(0,10)===e},t.getEnvVarSeperator=function(){return a.platform().includes("win32")?";":(a.platform().includes("darwin")||a.platform().includes("linux"),":")},t.getPlatformName=function(){return a.platform().includes("win32")?"Windows":a.platform().includes("darwin")?"macOS":a.platform().includes("linux")?"Linux":"macOS"};const o=r(398),i=r(896),n=r(928),a=r(857);var s,l;function d(e){o.window.showInformationMessage(e)}function u(e){return e.toString().padStart(2,"0")}function c(e){let t=Math.floor(e/1e3),r=Math.floor(t/60);const o=Math.floor(r/60);return t%=60,r%=60,`${u(o)}:${u(r)}:${u(t)}`}},83:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeDataProvider=void 0;const o=r(398),i=r(213),n=r(708),a=r(60);t.TreeDataProvider=class{constructor(){this._onDidChangeTreeData=new o.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.filterString="",this.itemList=[],this.visibleItemList=[],this.envVaribleSeperator=";",this.loadTreeItems(),this.envVaribleSeperator=a.getEnvVarSeperator()}refresh(){this.loadTreeItems(),this._onDidChangeTreeData.fire()}loadTreeItems(){for(var e of(this.itemList=[],Object.keys(n.env))){let t=new i.TreeItem(e,e,n.env[e],i.TreeItemType.Key);t.collapsibleState=o.TreeItemCollapsibleState.Collapsed,this.itemList.push(t)}}getChildren(e){if(!e){for(var t of(this.visibleItemList=[],this.itemList))(!this.filterString||this.filterString&&t.doesFilterMatch(this.filterString))&&this.visibleItemList.push(t);return Promise.resolve(this.visibleItemList)}if(e.TreeItemType===i.TreeItemType.Key){let t=e.Value.split(this.envVaribleSeperator),o=[];for(var r in t){let n=new i.TreeItem(t[r],e.Key,t[r],i.TreeItemType.Value);n.ParentTreeItem=e,e.ChildTreeItemList.push(n),o.push(n)}return Promise.resolve(o)}return Promise.resolve([])}getTreeItem(e){return e}}},213:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemType=t.TreeItem=void 0;const o=r(398);class i extends o.TreeItem{constructor(e,t,r,o){super(e),this.isFav=!1,this.ChildTreeItemList=[],this.Key=t,this.Value=r,this.TreeItemType=o,this.refreshUI()}refreshUI(){this.TreeItemType===n.Key&&(this.iconPath=new o.ThemeIcon("circle-filled")),this.TreeItemType===n.Value&&(this.iconPath=new o.ThemeIcon("circle-outline"))}doesFilterMatch(e){let t=e.toLocaleLowerCase().split(","),r=[];for(var o of t)(this.Key.toLocaleLowerCase().includes(o)||this.Value.toLocaleLowerCase().includes(o)||"fav"===o&&this.isFav)&&r.push(o);return t.length===r.length}}var n;t.TreeItem=i,function(e){e[e.Key=1]="Key",e[e.Value=2]="Value"}(n||(t.TreeItemType=n={}))},398:e=>{e.exports=require("vscode")},708:e=>{e.exports=require("node:process")},857:e=>{e.exports=require("os")},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")},943:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeView=void 0;const o=r(398),i=r(213),n=r(83),a=r(60);class s{constructor(e){this.filterString="",a.logToOutput("TreeView.constructor Started"),this.context=e,this.treeDataProvider=new n.TreeDataProvider,this.view=o.window.createTreeView("TreeView",{treeDataProvider:this.treeDataProvider,showCollapseAll:!0}),e.subscriptions.push(this.view),s.currentPanel=this}async refresh(){a.logToOutput("TreeView.refresh Started"),this.treeDataProvider.refresh()}async addToFav(e){a.logToOutput("TreeView.addToFavDAG Started"),e.isFav=!0}async deleteFromFav(e){a.logToOutput("TreeView.deleteFromFavDAG Started"),e.isFav=!1}async copyToClipboard(e){a.logToOutput("TreeView.copyToClipboard Started"),e.TreeItemType===i.TreeItemType.Key&&o.env.clipboard.writeText(e.Key),e.TreeItemType===i.TreeItemType.Value&&o.env.clipboard.writeText(e.Value)}async filter(){a.logToOutput("TreeView.filter Started");let e=await o.window.showInputBox({value:this.filterString,placeHolder:"Enter your filters seperated by comma"});void 0!==e&&(""!==e?(this.filterString=e,this.view.message="Filter : "+this.filterString,this.treeDataProvider.filterString=this.filterString):(this.filterString="",this.view.message="",this.treeDataProvider.filterString=this.filterString),this.treeDataProvider.refresh())}async editNode(e){if(a.logToOutput("TreeView.editNode Started"),e.TreeItemType===i.TreeItemType.Key)try{const t=process.env[e.Key]||"",r=await o.window.showInputBox({value:t,placeHolder:"Enter new value"});if(t===r)return a.logToOutput(`Environment variable "${e.Key}" has not been changed.`),void a.showInfoMessage(`Environment variable "${e.Key}" has not been changed.`);void 0!==r&&(process.env[e.Key]=r,this.treeDataProvider.refresh(),a.showInfoMessage(`Environment variable "${e.Key}" has been updated.`),a.logToOutput(`Environment variable "${e.Key}" has been updated.`))}catch(e){a.logToOutput("TreeView.editNode Error: "+e.message)}}async addNode(e){a.logToOutput("TreeView.addNode Started");try{const e=await o.window.showInputBox({placeHolder:"Enter New Environment Variable Name"});if(void 0!==e&&""!==e.trim()){if(process.env.hasOwnProperty(e))return a.showErrorMessage(`Environment variable "${e}" already exists.`),void a.logToOutput(`Environment variable "${e}" already exists.`);const t=await o.window.showInputBox({placeHolder:"Enter New Environment Variable Value"});process.env[e]=t||"",this.treeDataProvider.refresh(),a.showInfoMessage(`Environment variable "${e}" has been added.`),a.logToOutput(`Environment variable "${e}" has been added.`)}}catch(e){a.logToOutput("TreeView.addNode Error: "+e.message)}}async searchGoogle(e){if(a.logToOutput("TreeView.searchGoogle Started"),e.TreeItemType===i.TreeItemType.Key)try{const t=a.getPlatformName();a.logToOutput(`Platform detected: ${t}`);const r=`${t} environment variable ${e.Key}`,i=`https://www.google.com/search?q=${encodeURIComponent(r)}`;o.env.openExternal(o.Uri.parse(i)),a.logToOutput(`Opened Google search for "${r}".`)}catch(e){a.logToOutput("TreeView.searchGoogle Error: "+e.message),a.showErrorMessage("Failed to open Google search: "+e.message)}}async removeNode(e){if(a.logToOutput("TreeView.removeNode Started"),e.TreeItemType!==i.TreeItemType.Key)return;const t='Are you sure you want to remove the environment variable "'+e.Key+'"? This action cannot be undone.';if("Yes"===await o.window.showWarningMessage(t,{modal:!0},"Yes","No"))try{delete process.env[e.Key],this.treeDataProvider.refresh(),a.showInfoMessage(`Environment variable "${e.Key}" has been removed.`),a.logToOutput(`Environment variable "${e.Key}" has been removed.`)}catch(t){a.showErrorMessage(`Failed to remove environment variable "${e.Key}": ${t.message}`),a.logToOutput(`Failed to remove environment variable "${e.Key}": ${t.message}`)}}}t.TreeView=s}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(e){n.logToOutput("Extension activation started");let r=new i.TreeView(e);t.commands.registerCommand("TreeView.refresh",()=>{r.refresh()}),t.commands.registerCommand("TreeView.filter",()=>{r.filter()}),t.commands.registerCommand("TreeView.addToFav",e=>{r.addToFav(e)}),t.commands.registerCommand("TreeView.deleteFromFav",e=>{r.deleteFromFav(e)}),t.commands.registerCommand("TreeView.copy",e=>{r.copyToClipboard(e)}),t.commands.registerCommand("TreeView.edit",e=>{r.editNode(e)}),t.commands.registerCommand("TreeView.add",e=>{r.addNode(e)}),t.commands.registerCommand("TreeView.searchGoogle",e=>{r.searchGoogle(e)}),t.commands.registerCommand("TreeView.remove",e=>{r.removeNode(e)}),n.logToOutput("Extension activation completed")},e.deactivate=function(){n.logToOutput("Extension is now deactive!")};const t=r(398),i=r(943),n=r(60)})(),module.exports=o})();